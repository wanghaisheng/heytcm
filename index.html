
<html><head><base href="/">
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>中医复兴 - 开放生态社区</title>
<meta name="description" content="中医复兴社区 - 传承千年智慧，开创健康未来。探索中医游戏化学习、智能工具与开放生态。">
<meta name="robots" content="follow, index, max-snippet:-1, max-video-preview:-1, max-image-preview:large">
<link rel="canonical" href="https://tcm.community">

<meta property="og:locale" content="zh_CN">
<meta property="og:type" content="website">
<meta property="og:title" content="中医复兴 - 开放生态社区">
<meta property="og:description" content="中医复兴社区 - 传承千年智慧，开创健康未来。探索中医游戏化学习、智能工具与开放生态。">
<meta property="og:url" content="https://tcm.community">
<meta property="og:site_name" content="中医复兴">
<meta property="og:image" content="https://tcm.community/images/og-image.png">
<meta property="og:image:width" content="1200">
<meta property="og:image:height" content="630">
<meta property="og:image:alt" content="中医复兴社区">
<meta property="og:image:type" content="image/png">

<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="中医复兴 - 开放生态社区">
<meta name="twitter:description" content="中医复兴社区 - 传承千年智慧，开创健康未来。探索中医游戏化学习、智能工具与开放生态。">
<meta name="twitter:image" content="https://tcm.community/images/og-image.png">

<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "Organization",
  "name": "中医复兴",
  "url": "https://tcm.community",
  "logo": "https://tcm.community/images/logo.png",
  "description": "中医复兴社区致力于传承和创新中医智慧，通过游戏化学习、智能工具和开放生态，推动中医文化的现代化发展。",
  "sameAs": [
    "https://weibo.com/tcmcommunity",
    "https://twitter.com/tcmcommunity" 
  ]
}
</script>

<link rel="dns-prefetch" href="//cdn.jsdelivr.net">
<link rel="dns-prefetch" href="//fonts.googleapis.com">
<link rel="dns-prefetch" href="//fonts.gstatic.com">

<link rel="preconnect" href="https://fonts.googleapis.com" crossorigin>
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

<link rel="alternate" type="application/rss+xml" title="中医复兴 » Feed" href="https://tcm.community/feed/">
<link rel="alternate" type="application/rss+xml" title="中医复兴 » 评论" href="https://tcm.community/comments/feed/">

<style>
:root {
  --primary: #27615b;
  --secondary: #849b5c;
  --accent: #d4896a;
  --bg: #faf6f2;
  --text: #2c3e50;
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  font-family: "PingFang SC", "Microsoft YaHei", sans-serif;
  background: var(--bg);
  color: var(--text);
  line-height: 1.6;
}

.hero {
  min-height: 100vh;
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
  overflow: hidden;
}

.hero-content {
  text-align: center;
  z-index: 2;
  padding: 2rem;
}

.hero h1 {
  font-size: 4rem;
  color: var(--primary);
  margin-bottom: 1rem;
}

.hero p {
  font-size: 1.5rem;
  margin-bottom: 2rem;
}

.wuxing-bg {
  position: absolute;
  width: 100%;
  height: 100%;
  opacity: 0.1;
}

nav {
  position: fixed;
  top: 0;
  width: 100%;
  background: rgba(255,255,255,0.95);
  padding: 1rem;
  z-index: 1000;
  box-shadow: 0 2px 10px rgba(0,0,0,0.1);
  padding-left: 70px;
}

.nav-links {
  display: flex;
  justify-content: center;
  gap: 2rem;
}

.nav-links a {
  color: var(--text);
  text-decoration: none;
  padding: 0.5rem 1rem;
  border-radius: 4px;
  transition: all 0.3s ease;
}

.nav-links a:hover {
  background: var(--primary);
  color: white;
}

.qi-flow {
  position: absolute;
  width: 100%;
  height: 100%;
  pointer-events: none;
}

.features {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 2rem;
  padding: 4rem 2rem;
}

.feature-card {
  background: white;
  padding: 2rem;
  border-radius: 8px;
  box-shadow: 0 4px 6px rgba(0,0,0,0.1);
  transition: transform 0.3s ease;
}

.feature-card:hover {
  transform: translateY(-5px);
}

.cta-button {
  display: inline-block;
  padding: 1rem 2rem;
  background: var(--primary);
  color: white;
  text-decoration: none;
  border-radius: 4px;
  transition: all 0.3s ease;
}

.cta-button:hover {
  background: var(--secondary);
  transform: translateY(-2px);
}

.community-updates {
  padding: 4rem 2rem;
  background: white;
}

.update-card {
  background: var(--bg);
  padding: 2rem;
  border-radius: 8px;
  margin-bottom: 1rem;
  box-shadow: 0 2px 4px rgba(0,0,0,0.05);
}

.update-card h4 {
  color: var(--primary);
  margin-bottom: 0.5rem;
}

.update-card small {
  color: #666;
}

.stats-section {
  padding: 4rem 2rem;
  background: linear-gradient(135deg, var(--primary), var(--secondary));
  color: white;
  text-align: center;
}

.stats-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 2rem;
  max-width: 1200px;
  margin: 0 auto;
}

.stat-card {
  padding: 2rem;
}

.stat-number {
  font-size: 3rem;
  font-weight: bold;
  margin-bottom: 0.5rem;
}

.testimonials {
  padding: 4rem 2rem;
  background: var(--bg);
}

.testimonial-card {
  background: white;
  padding: 2rem;
  border-radius: 8px;
  margin: 1rem;
  box-shadow: 0 4px 6px rgba(0,0,0,0.1);
}

.testimonial-card img {
  width: 60px;
  height: 60px;
  border-radius: 50%;
  margin-bottom: 1rem;
}

footer {
  background: var(--primary);
  color: white;
  padding: 4rem 2rem;
}

.footer-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 2rem;
  max-width: 1200px;
  margin: 0 auto;
}

.footer-column h3 {
  margin-bottom: 1rem;
}

.footer-column ul {
  list-style: none;
}

.footer-column ul li {
  margin-bottom: 0.5rem;
}

.footer-column ul li a {
  color: white;
  text-decoration: none;
}

.mission-section {
  padding: 4rem 2rem;
  background: linear-gradient(45deg, var(--bg), white);
}

.mission-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 3rem;
  max-width: 1200px;
  margin: 0 auto;
}

.mission-card {
  position: relative;
  padding: 2rem;
  background: white;
  border-radius: 12px;
  box-shadow: 0 4px 15px rgba(0,0,0,0.1);
  transition: all 0.3s ease;
}

.mission-card:hover {
  transform: translateY(-5px);
  box-shadow: 0 8px 25px rgba(0,0,0,0.15);
}

.mission-icon {
  width: 80px;
  height: 80px;
  margin-bottom: 1rem;
}

.resource-section {
  padding: 4rem 2rem;
  background: white;
}

.resource-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 2rem;
  max-width: 1200px;
  margin: 0 auto;
}

.resource-card {
  position: relative;
  padding: 2rem;
  background: var(--bg);
  border-radius: 8px;
  overflow: hidden;
}

.resource-card::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 4px;
  background: var(--primary);
  transform: scaleX(0);
  transform-origin: left;
  transition: transform 0.3s ease;
}

.resource-card:hover::before {
  transform: scaleX(1);
}

.knowledge-hub {
  padding: 4rem 2rem;
  background: linear-gradient(135deg, var(--bg), white);
}

.hub-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: 2rem;
  max-width: 1200px;
  margin: 0 auto;
}

.hub-card {
  position: relative;
  background: white;
  border-radius: 12px;
  padding: 2rem;
  box-shadow: 0 4px 15px rgba(0,0,0,0.1);
  transition: all 0.3s ease;
  overflow: hidden;
}

.hub-card:hover {
  transform: translateY(-5px);
}

.interactive-learning {
  padding: 4rem 2rem;
  background: linear-gradient(45deg, var(--primary), var(--secondary));
  color: white;
}

.learning-content {
  max-width: 1200px;
  margin: 0 auto;
  text-align: center;
}

.learning-demo {
  background: rgba(255,255,255,0.1);
  border-radius: 12px;
  padding: 2rem;
  margin-top: 2rem;
  position: relative;
  overflow: hidden;
}

.floating-element {
  position: absolute;
  pointer-events: none;
  opacity: 0.1;
}

.floating-circle {
  width: 200px;
  height: 200px;
  border-radius: 50%;
  background: var(--accent);
  filter: blur(40px);
}

.collaborations {
  padding: 4rem 2rem;
  background: linear-gradient(45deg, var(--bg), white);
}

.collab-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 2rem;
}

.collab-card {
  background: white;
  padding: 2rem;
  border-radius: 12px;
  box-shadow: 0 4px 15px rgba(0,0,0,0.1);
}

.events-calendar {
  padding: 4rem 2rem;
  background: white;
}

#events-grid {
  max-width: 1200px;
  margin: 0 auto;
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: 2rem;
}

.event-card {
  background: var(--bg);
  padding: 2rem;
  border-radius: 12px;
  box-shadow: 0 4px 15px rgba(0,0,0,0.1);
  transition: transform 0.3s ease;
  cursor: pointer;
}

.event-type {
  display: inline-block;
  padding: 0.25rem 1rem;
  border-radius: 20px;
  background: var(--secondary);
  color: white;
  font-size: 0.9rem;
}

.research-innovation {
  padding: 4rem 2rem;
  background: var(--bg);
}

.research-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 2rem;
}

.research-card {
  background: white;
  padding: 2rem;
  border-radius: 12px;
  box-shadow: 0 4px 15px rgba(0,0,0,0.1);
}

.research-progress {
  margin-top: 1rem;
}

.progress-bar {
  height: 4px;
  background: #eee;
  border-radius: 2px;
  margin: 1rem 0;
}

.progress-bar > div {
  height: 100%;
  background: var(--primary);
  border-radius: 2px;
}

.clinical-practice {
  padding: 4rem 2rem;
  background: white;
}

.practice-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 2rem;
}

.practice-card {
  background: var(--bg);
  padding: 2rem;
  border-radius: 12px;
  box-shadow: 0 4px 15px rgba(0,0,0,0.1);
  transition: transform 0.3s ease;
}

.side-menu {
  position: fixed;
  left: -300px;
  top: 0;
  width: 300px;
  height: 100vh;
  background: white;
  box-shadow: 2px 0 10px rgba(0,0,0,0.1);
  transition: left 0.3s ease;
  z-index: 2000;
  overflow-y: auto;
}

.side-menu.open {
  left: 0;
}

.menu-toggle {
  position: fixed;
  left: 20px;
  top: 20px;
  z-index: 2001;
  background: none;
  border: none;
  cursor: pointer;
  padding: 10px;
}

.menu-toggle span {
  display: block;
  width: 25px;
  height: 3px;
  background: var(--primary);
  margin: 5px 0;
  transition: all 0.3s ease;
}

.menu-toggle.open span:nth-child(1) {
  transform: rotate(45deg) translate(5px, 5px);
}

.menu-toggle.open span:nth-child(2) {
  opacity: 0;
}

.menu-toggle.open span:nth-child(3) {
  transform: rotate(-45deg) translate(7px, -7px);
}

.side-menu-links {
  padding: 60px 20px 20px;
}

.side-menu-links a {
  display: block;
  padding: 15px 0;
  color: var(--text);
  text-decoration: none;
  border-bottom: 1px solid rgba(0,0,0,0.1);
  transition: color 0.3s ease;
}

.side-menu-links a:hover {
  color: var(--primary);
}

.product-categories {
  padding: 4rem 2rem;
  background: linear-gradient(135deg, var(--bg), white);
}

.categories-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: 2rem;
  max-width: 1200px;
  margin: 0 auto;
}

.category-card {
  background: white;
  padding: 2rem;
  border-radius: 12px;
  box-shadow: 0 4px 15px rgba(0,0,0,0.1);
  transition: all 0.3s ease;
}

.category-card:hover {
  transform: translateY(-5px);
}

.category-icon {
  width: 80px;
  height: 80px;
  margin: 1rem 0;
}

.category-card ul {
  list-style: none;
  margin-top: 1rem;
}

.category-card ul li {
  margin: 0.5rem 0;
  padding-left: 1.5rem;
  position: relative;
}

.category-card ul li:before {
  content: "•";
  color: var(--primary);
  position: absolute;
  left: 0;
}

.partner-card {
  transition: all 0.3s ease;
  cursor: pointer;
}

.partner-card:hover {
  transform: translateY(-5px);
  box-shadow: 0 8px 25px rgba(0,0,0,0.15);
}

.partner-category {
  opacity: 0;
  transform: translateY(20px);
  transition: all 0.5s ease;
}

.partner-category.visible {
  opacity: 1;
  transform: translateY(0);
}

@keyframes rotate {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

.learning-demo {
  margin: 2rem 0;
  padding: 1rem;
  background: white;
  border-radius: 8px;
  box-shadow: 0 2px 10px rgba(0,0,0,0.1);
}

.learning-demo h3 {
  color: var(--primary);
  margin-bottom: 1rem;
  text-align: center;
}

.learning-demo > div {
  margin-bottom: 2rem;
  cursor: pointer;
  transition: all 0.3s ease;
}

.learning-demo > div:hover {
  transform: scale(1.02);
}
</style>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-XXXXXXXX"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-XXXXXXXX');
</script>
<link rel="icon" href="https://tcm.community/favicon.ico" sizes="32x32">
<link rel="icon" href="https://tcm.community/favicon-192.png" sizes="192x192">
<link rel="apple-touch-icon" href="https://tcm.community/apple-touch-icon.png">
<meta name="msapplication-TileImage" content="https://tcm.community/mstile-144x144.png">
</head>
<body>

<button class="menu-toggle">
  <span></span>
  <span></span>
  <span></span>
</button>

<div class="side-menu">
  <div class="side-menu-links">
    <a href="/">首页</a>
    <a href="/about">关于我们</a>
    <a href="/games">游戏与娱乐</a>
    <a href="/tools">工具与应用</a>
    <a href="/simulators">中医模拟</a>
    <a href="/community">社区</a>
    <a href="/news">新闻与活动</a>
    <a href="/join">加入我们</a>
    <a href="/opensource">开源项目</a>
    <a href="/help">帮助中心</a>
  </div>
</div>

<nav>
  <div class="nav-links">
    <a href="https://tcm.community/about">关于我们</a>
    <a href="https://tcm.community/games">游戏与娱乐</a>
    <a href="https://tcm.community/tools">工具与应用</a>
    <a href="https://tcm.community/community">社区</a>
    <a href="https://tcm.community/opensource">开源项目</a>
  </div>
</nav>

<section class="hero">
  <svg class="wuxing-bg" viewBox="0 0 500 500">
    <path d="M250,50 L450,250 L350,450 L150,450 L50,250 Z" 
          fill="none" 
          stroke="var(--primary)" 
          stroke-width="2">
      <animate attributeName="stroke-dasharray" 
               from="0,1000" 
               to="1000,1000" 
               dur="3s" 
               repeatCount="indefinite"/>
    </path>
  </svg>
  
  <svg class="qi-flow" viewBox="0 0 1000 1000">
    <defs>
      <filter id="glow">
        <feGaussianBlur stdDeviation="5" result="coloredBlur"/>
        <feMerge>
          <feMergeNode in="coloredBlur"/>
          <feMergeNode in="SourceGraphic"/>
        </feMerge>
      </filter>
    </defs>
    
    <path d="M0,500 Q250,400 500,500 T1000,500" 
          fill="none" 
          stroke="var(--accent)" 
          stroke-width="3"
          filter="url(#glow)">
      <animate attributeName="d" 
               dur="5s"
               repeatCount="indefinite"
               values="M0,500 Q250,400 500,500 T1000,500;
                      M0,500 Q250,600 500,500 T1000,500;
                      M0,500 Q250,400 500,500 T1000,500"/>
    </path>
  </svg>

  <div class="hero-content">
    <h1>中医复兴</h1>
    <p>传承千年智慧 · 开创健康未来</p>
    <a href="https://tcm.community/join" class="cta-button">加入我们</a>
  </div>
</section>

<section class="features">
  <div class="feature-card">
    <h3>游戏化学习</h3>
    <p>通过互动游戏体验中医智慧，寓教于乐。探索养生之道，掌握平衡之术。</p>
  </div>
  
  <div class="feature-card">
    <h3>开源生态</h3>
    <p>共建开放的中医数字化平台，促进技术创新。汇聚全球智慧，推动中医现代化。</p>
  </div>
  
  <div class="feature-card">
    <h3>社区共创</h3>
    <p>连接传统与现代，共同探索健康新范式。分享经验，互助成长。</p>
  </div>
</section>

<section class="stats-section">
  <div class="stats-grid">
    <div class="stat-card">
      <div class="stat-number">10,000+</div>
      <div>活跃用户</div>
    </div>
    <div class="stat-card">
      <div class="stat-number">50+</div>
      <div>开源项目</div>
    </div>
    <div class="stat-card">
      <div class="stat-number">100+</div>
      <div>社区活动</div>
    </div>
  </div>
</section>

<section class="testimonials">
  <h2>用户心声</h2>
  <div class="testimonial-card">
    <p>"通过游戏化学习中医知识，让我对养生产生了浓厚的兴趣。"</p>
    <small>- 张医生，中医师</small>
  </div>
</section>

<section class="mission-section">
  <h2 style="text-align: center; margin-bottom: 3rem;">我们的使命</h2>
  <div class="mission-grid">
    <div class="mission-card">
      <svg class="mission-icon" viewBox="0 0 100 100">
        <circle cx="50" cy="50" r="45" fill="none" stroke="var(--primary)" stroke-width="2">
          <animate attributeName="stroke-dasharray" from="0 283" to="283 283" dur="2s" fill="freeze" />
        </circle>
        <path d="M30,50 L45,65 L70,35" stroke="var(--primary)" stroke-width="3" fill="none">
          <animate attributeName="stroke-dasharray" from="0 100" to="100 100" dur="1s" fill="freeze" begin="1.5s" />
        </path>
      </svg>
      <h3>传承创新</h3>
      <p>将传统中医智慧与现代科技完美融合，创造创新的健康解决方案。</p>
    </div>
    
    <div class="mission-card">
      <svg class="mission-icon" viewBox="0 0 100 100">
        <g fill="none" stroke="var(--secondary)">
          <path d="M20,50 C20,70 80,30 80,50 C80,70 20,30 20,50">
            <animate attributeName="d" 
                     values="M20,50 C20,70 80,30 80,50 C80,70 20,30 20,50;
                            M20,50 C20,30 80,70 80,50 C80,30 20,70 20,50;
                            M20,50 C20,70 80,30 80,50 C80,70 20,30 20,50"
                     dur="4s" repeatCount="indefinite"/>
          </path>
        </g>
      </svg>
      <h3>开放共享</h3>
      <p>建立开放的生态系统，促进知识共享和技术创新。</p>
    </div>
    
    <div class="mission-card">
      <svg class="mission-icon" viewBox="0 0 100 100">
        <g transform="translate(50,50)">
          <circle r="5" fill="var(--accent)">
            <animate attributeName="r" values="5;10;5" dur="2s" repeatCount="indefinite"/>
          </circle>
          <g id="orbits">
            <circle r="20" fill="none" stroke="var(--primary)" stroke-width="1" opacity="0.5"/>
            <circle r="35" fill="none" stroke="var(--primary)" stroke-width="1" opacity="0.3"/>
          </g>
          <g>
            <circle r="3" fill="var(--secondary)" transform="translate(20,0)">
              <animateTransform attributeName="transform" type="rotate" from="0" to="360" dur="3s" repeatCount="indefinite"/>
            </circle>
            <circle r="3" fill="var(--primary)" transform="translate(35,0)">
              <animateTransform attributeName="transform" type="rotate" from="0" to="-360" dur="5s" repeatCount="indefinite"/>
            </circle>
          </g>
        </g>
      </svg>
      <h3>生态共建</h3>
      <p>连接各方力量，共同打造健康产业新生态。</p>
    </div>
  </div>
</section>

<section class="resource-section">
  <h2 style="text-align: center; margin-bottom: 3rem;">开放资源</h2>
  <div class="resource-grid">
    <div class="resource-card">
      <h3>开发文档</h3>
      <p>详细的API文档和开发指南，助力开发者快速上手。</p>
      <a href="https://tcm.community/docs" class="cta-button">查看文档</a>
    </div>
    
    <div class="resource-card">
      <h3>数据集</h3>
      <p>开放的中医知识图谱和临床数据集，支持研究创新。</p>
      <a href="https://tcm.community/datasets" class="cta-button">浏览数据</a>
    </div>
    
    <div class="resource-card">
      <h3>开源代码</h3>
      <p>核心算法和工具的源代码，欢迎贡献和改进。</p>
      <a href="https://tcm.community/code" class="cta-button">获取代码</a>
    </div>
  </div>
</section>

<section class="product-categories">
  <h2 style="text-align: center; margin-bottom: 3rem;">产品与服务</h2>
  <div class="categories-grid">
    <div class="category-card">
      <h3>游戏与二次开发</h3>
      <svg class="category-icon" viewBox="0 0 100 100">
        <!-- Game controller icon -->
        <rect x="20" y="30" width="60" height="40" rx="20" fill="none" stroke="var(--primary)" stroke-width="2"/>
        <circle cx="40" cy="50" r="8" fill="var(--primary)"/>
        <circle cx="60" cy="50" r="8" fill="var(--primary)"/>
      </svg>
      <p>融合中医文化的益智游戏，提供个性化游戏体验</p>
      <ul>
        <li>五行益智游戏</li>
        <li>健康养成类游戏</li>
        <li>二次开发工具包</li>
      </ul>
    </div>
    
    <div class="category-card">
      <h3>健康工具应用</h3>
      <svg class="category-icon" viewBox="0 0 100 100">
        <!-- Health app icon -->
        <path d="M30,50 h40 M50,30 v40" stroke="var(--primary)" stroke-width="4" stroke-linecap="round"/>
        <circle cx="50" cy="50" r="35" fill="none" stroke="var(--primary)" stroke-width="2"/>
      </svg>
      <p>结合传统中医理论和现代科技的健康管理工具</p>
      <ul>
        <li>健康数据记录</li>
        <li>个性化饮食建议</li>
        <li>情绪管理工具</li>
      </ul>
    </div>

    <div class="category-card">
      <h3>气血模拟器</h3>
      <svg class="category-icon" viewBox="0 0 100 100">
        <!-- Qi simulation icon -->
        <path d="M20,50 Q50,20 80,50 Q50,80 20,50" fill="none" stroke="var(--primary)" stroke-width="2">
          <animate attributeName="d" 
                   values="M20,50 Q50,20 80,50 Q50,80 20,50;
                          M20,50 Q50,80 80,50 Q50,20 20,50;
                          M20,50 Q50,20 80,50 Q50,80 20,50"
                   dur="4s" repeatCount="indefinite"/>
        </path>
      </svg>
      <p>体验中医传统概念的互动式模拟器</p>
      <ul>
        <li>气血流动模拟</li>
        <li>经络系统展示</li>
        <li>五行相生相克</li>
      </ul>
    </div>

    <div class="category-card">
      <h3>智能管理设备</h3>
      <svg class="category-icon" viewBox="0 0 100 100">
        <!-- Smart device icon -->
        <rect x="30" y="20" width="40" height="60" rx="5" fill="none" stroke="var(--primary)" stroke-width="2"/>
        <circle cx="50" cy="65" r="8" fill="none" stroke="var(--primary)" stroke-width="2"/>
      </svg>
      <p>采集身体指标的智能穿戴设备</p>
      <ul>
        <li>智能戒指</li>
        <li>健康手表</li>
        <li>数据分析平台</li>
      </ul>
    </div>
  </div>
</section>

<section class="knowledge-hub">
  <h2 style="text-align: center; margin-bottom: 3rem;">知识中心</h2>
  <div class="hub-grid">
    <div class="hub-card">
      <h3>基础理论</h3>
      <p>探索阴阳五行、气血精理论等中医基础知识，建立系统认知。</p>
      <svg class="mission-icon" viewBox="0 0 100 100">
        <circle cx="50" cy="50" r="40" fill="none" stroke="var(--primary)" stroke-width="2">
          <animate attributeName="stroke-dasharray" from="0 251" to="251 251" dur="2s" fill="freeze" />
        </circle>
        <text x="50" y="55" text-anchor="middle" fill="var(--primary)" font-size="12">五行</text>
      </svg>
    </div>
    
    <div class="hub-card">
      <h3>临床应用</h3>
      <p>了解中医诊断方法、治疗原则，掌握实用养生技巧。</p>
      <svg class="mission-icon" viewBox="0 0 100 100">
        <path d="M20,50 Q50,20 80,50 Q50,80 20,50" fill="none" stroke="var(--secondary)" stroke-width="2">
          <animate attributeName="d" 
                   values="M20,50 Q50,20 80,50 Q50,80 20,50;
                          M20,50 Q50,80 80,50 Q50,20 20,50;
                          M20,50 Q50,20 80,50 Q50,80 20,50"
                   dur="4s" repeatCount="indefinite"/>
        </path>
      </svg>
    </div>
    
    <div class="hub-card">
      <h3>研究创新</h3>
      <p>发现传统理论与现代科技的结合点，推动中医创新发展。</p>
      <svg class="mission-icon" viewBox="0 0 100 100">
        <g transform="translate(50,50)">
          <circle r="25" fill="none" stroke="var(--accent)" stroke-width="2">
            <animate attributeName="r" values="25;30;25" dur="3s" repeatCount="indefinite"/>
          </circle>
          <circle r="5" fill="var(--primary)"/>
        </g>
      </svg>
    </div>
  </div>
</section>

<section class="research-innovation" style="padding: 4rem 2rem; background: var(--bg);">
  <h2 style="text-align: center; margin-bottom: 3rem;">研究与创新</h2>
  <div style="max-width: 1200px; margin: 0 auto;">
    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 2rem;">
      <div class="research-card" style="background: white; padding: 2rem; border-radius: 12px; box-shadow: 0 4px 15px rgba(0,0,0,0.1);">
        <h3>人工智能应用</h3>
        <p>探索AI在中医诊断、处方分析等领域的应用</p>
        <div class="research-progress">
          <div class="progress-bar" style="height: 4px; background: #eee; border-radius: 2px; margin: 1rem 0;">
            <div style="width: 75%; height: 100%; background: var(--primary); border-radius: 2px;">
              <animate attributeName="width" from="0%" to="75%" dur="1.5s" fill="freeze"/>
            </div>
          </div>
          <small>研究进度: 75%</small>
        </div>
      </div>

      <div class="research-card" style="background: white; padding: 2rem; border-radius: 12px; box-shadow: 0 4px 15px rgba(0,0,0,0.1);">
        <h3>智能设备研发</h3>
        <p>开发基于传统中医理论的现代化健康监测设备</p>
        <div class="research-progress">
          <div class="progress-bar" style="height: 4px; background: #eee; border-radius: 2px; margin: 1rem 0;">
            <div style="width: 60%; height: 100%; background: var(--secondary); border-radius: 2px;">
              <animate attributeName="width" from="0%" to="60%" dur="1.5s" fill="freeze"/>
            </div>
          </div>
          <small>研究进度: 60%</small>
        </div>
      </div>

      <div class="research-card" style="background: white; padding: 2rem; border-radius: 12px; box-shadow: 0 4px 15px rgba(0,0,0,0.1);">
        <h3>数据标准化</h3>
        <p>建立中医临床数据标准，推动行业规范化发展</p>
        <div class="research-progress">
          <div class="progress-bar" style="height: 4px; background: #eee; border-radius: 2px; margin: 1rem 0;">
            <div style="width: 40%; height: 100%; background: var(--accent); border-radius: 2px;">
              <animate attributeName="width" from="0%" to="40%" dur="1.5s" fill="freeze"/>
            </div>
          </div>
          <small>研究进度: 40%</small>
        </div>
      </div>
    </div>
  </div>
</section>

<section class="clinical-practice" style="padding: 4rem 2rem; background: white;">
  <h2 style="text-align: center; margin-bottom: 3rem;">临床实践</h2>
  <div style="max-width: 1200px; margin: 0 auto;">
    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 2rem;">
      <div class="practice-card" style="background: var(--bg); padding: 2rem; border-radius: 12px; box-shadow: 0 4px 15px rgba(0,0,0,0.1);">
        <h3>远程诊疗</h3>
        <p>借助现代通讯技术，实现中医远程问诊和治疗指导</p>
        <ul style="list-style: none; margin-top: 1rem;">
          <li>• 在线问诊平台</li>
          <li>• 远程会诊系统</li>
          <li>• 随访管理</li>
        </ul>
      </div>

      <div class="practice-card" style="background: var(--bg); padding: 2rem; border-radius: 12px; box-shadow: 0 4px 15px rgba(0,0,0,0.1);">
        <h3>智能辅助诊断</h3>
        <p>运用AI技术辅助中医临床诊断决策</p>
        <ul style="list-style: none; margin-top: 1rem;">
          <li>• 症状分析</li>
          <li>• 处方推荐</li>
          <li>• 预后评估</li>
        </ul>
      </div>

      <div class="practice-card" style="background: var(--bg); padding: 2rem; border-radius: 12px; box-shadow: 0 4px 15px rgba(0,0,0,0.1);">
        <h3>临床研究</h3>
        <p>开展中医临床疗效评价研究</p>
        <ul style="list-style: none; margin-top: 1rem;">
          <li>• 疗效评价</li>
          <li>• 临床试验</li>
          <li>• 数据分析</li>
        </ul>
      </div>
    </div>
  </div>
</section>

<section class="interactive-learning">
  <div class="learning-content">
    <h2>三大核心研究方向</h2>
    <p style="margin: 1rem 0 2rem">用科学和技术揭开传统医学的面纱</p>
    
    <div class="learning-demo">
      <h3>阴阳平衡的量化</h3>
      <div id="yinyang-demo" style="height: 300px; position: relative;"></div>
      
      <h3>气与血的量化</h3>
      <div id="qixue-demo" style="height: 300px; position: relative;"></div>
      
      <h3>五行的量化</h3>
      <div id="wuxing-demo" style="height: 300px; position: relative;"></div>
    </div>
  </div>
  
  <!-- Add decorative floating elements -->
  <div class="floating-element floating-circle" style="top: 10%; left: 5%"></div>
  <div class="floating-element floating-circle" style="bottom: 10%; right: 5%"></div>
</section>

<section class="partners-section" style="padding: 4rem 2rem; background: var(--bg);">
  <h2 style="text-align: center; margin-bottom: 3rem;">合作伙伴</h2>
  
  <div class="partner-categories" style="max-width: 1200px; margin: 0 auto;">
    <!-- Academic Partners -->
    <div class="partner-category">
      <h3 style="color: var(--primary); margin-bottom: 2rem;">学术机构</h3>
      <div class="partner-grid" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 2rem;">
        <div class="partner-card" style="background: white; padding: 2rem; border-radius: 12px; box-shadow: 0 4px 15px rgba(0,0,0,0.1); text-align: center;">
          <svg viewBox="0 0 100 100" width="80" height="80" style="margin-bottom: 1rem;">
            <rect x="20" y="30" width="60" height="40" rx="5" fill="none" stroke="var(--primary)" stroke-width="2"/>
            <text x="50" y="55" text-anchor="middle" fill="var(--primary)" font-size="12">中医药大学</text>
          </svg>
          <h4>中国中医科学院</h4>
          <p style="color: #666; font-size: 0.9rem;">国家级中医药研究机构</p>
        </div>
        
        <div class="partner-card" style="background: white; padding: 2rem; border-radius: 12px; box-shadow: 0 4px 15px rgba(0,0,0,0.1); text-align: center;">
          <svg viewBox="0 0 100 100" width="80" height="80" style="margin-bottom: 1rem;">
            <circle cx="50" cy="50" r="30" fill="none" stroke="var(--secondary)" stroke-width="2"/>
            <text x="50" y="55" text-anchor="middle" fill="var(--secondary)" font-size="12">医学院</text>
          </svg>
          <h4>北京中医药大学</h4>
          <p style="color: #666; font-size: 0.9rem;">中医药高等教育机构</p>
        </div>
      </div>
    </div>

    <!-- Tech Partners -->
    <div class="partner-category" style="margin-top: 3rem;">
      <h3 style="color: var(--primary); margin-bottom: 2rem;">科技企业</h3>
      <div class="partner-grid" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 2rem;">
        <div class="partner-card" style="background: white; padding: 2rem; border-radius: 12px; box-shadow: 0 4px 15px rgba(0,0,0,0.1); text-align: center;">
          <svg viewBox="0 0 100 100" width="80" height="80" style="margin-bottom: 1rem;">
            <path d="M30,50 Q50,30 70,50" fill="none" stroke="var(--accent)" stroke-width="2">
              <animate attributeName="d" 
                values="M30,50 Q50,30 70,50; M30,50 Q50,70 70,50; M30,50 Q50,30 70,50"
                dur="3s" repeatCount="indefinite"/>
            </path>
            <text x="50" y="70" text-anchor="middle" fill="var(--accent)" font-size="12">智能科技</text>
          </svg>
          <h4>智慧健康科技</h4>
          <p style="color: #666; font-size: 0.9rem;">AI健康管理解决方案提供商</p>
        </div>
        
        <div class="partner-card" style="background: white; padding: 2rem; border-radius: 12px; box-shadow: 0 4px 15px rgba(0,0,0,0.1); text-align: center;">
          <svg viewBox="0 0 100 100" width="80" height="80" style="margin-bottom: 1rem;">
            <rect x="35" y="35" width="30" height="30" fill="none" stroke="var(--primary)" stroke-width="2">
              <animate attributeName="transform" attributeType="XML"
                type="rotate"
                from="0 50 50"
                to="360 50 50"
                dur="5s"
                repeatCount="indefinite"/>
            </rect>
            <text x="50" y="70" text-anchor="middle" fill="var(--primary)" font-size="12">数据科技</text>
          </svg>
          <h4>数据智能公司</h4>
          <p style="color: #666; font-size: 0.9rem;">大数据分析与应用服务商</p>
        </div>
      </div>
    </div>

    <!-- Research Partners -->
    <div class="partner-category" style="margin-top: 3rem;">
      <h3 style="color: var(--primary); margin-bottom: 2rem;">研究机构</h3>
      <div class="partner-grid" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 2rem;">
        <div class="partner-card" style="background: white; padding: 2rem; border-radius: 12px; box-shadow: 0 4px 15px rgba(0,0,0,0.1); text-align: center;">
          <svg viewBox="0 0 100 100" width="80" height="80" style="margin-bottom: 1rem;">
            <path d="M20,70 L50,30 L80,70" fill="none" stroke="var(--secondary)" stroke-width="2"/>
            <text x="50" y="85" text-anchor="middle" fill="var(--secondary)" font-size="12">研究院</text>
          </svg>
          <h4>中医药研究院</h4>
          <p style="color: #666; font-size: 0.9rem;">专注中医药现代化研究</p>
        </div>
        
        <div class="partner-card" style="background: white; padding: 2rem; border-radius: 12px; box-shadow: 0 4px 15px rgba(0,0,0,0.1); text-align: center;">
          <svg viewBox="0 0 100 100" width="80" height="80" style="margin-bottom: 1rem;">
            <circle cx="50" cy="50" r="25" fill="none" stroke="var(--accent)" stroke-width="2">
              <animate attributeName="r" values="25;30;25" dur="2s" repeatCount="indefinite"/>
            </circle>
            <text x="50" y="85" text-anchor="middle" fill="var(--accent)" font-size="12">创新中心</text>
          </svg>
          <h4>健康创新中心</h4>
          <p style="color: #666; font-size: 0.9rem;">数字健康创新研究</p>
        </div>
      </div>
    </div>
  </div>
</section>

<section class="collaborations" style="padding: 4rem 2rem; background: linear-gradient(45deg, var(--bg), white);">
  <h2 style="text-align: center; margin-bottom: 3rem;">研究合作</h2>
  <div style="max-width: 1200px; margin: 0 auto;">
    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 2rem;">
      <div class="collab-card" style="background: white; padding: 2rem; border-radius: 12px; box-shadow: 0 4px 15px rgba(0,0,0,0.1);">
        <h3>高校合作</h3>
        <p>与各大医科大学合作开展中医现代化研究，推进理论创新与实践应用。</p>
        <ul style="list-style: none; margin-top: 1rem;">
          <li>• 中医理论研究</li>
          <li>• 临床实践验证</li>
          <li>• 人才培养项目</li>
        </ul>
      </div>
      
      <div class="collab-card" style="background: white; padding: 2rem; border-radius: 12px; box-shadow: 0 4px 15px rgba(0,0,0,0.1);">
        <h3>企业合作</h3>
        <p>与科技企业合作开发创新产品，推动中医数字化转型。</p>
        <ul style="list-style: none; margin-top: 1rem;">
          <li>• 智能硬件研发</li>
          <li>• 数字平台建设</li>
          <li>• 商业模式创新</li>
        </ul>
      </div>
      
      <div class="collab-card" style="background: white; padding: 2rem; border-radius: 12px; box-shadow: 0 4px 15px rgba(0,0,0,0.1);">
        <h3>国际合作</h3>
        <p>开展国际交流与合作，促进中医文化全球传播。</p>
        <ul style="list-style: none; margin-top: 1rem;">
          <li>• 学术交流</li>
          <li>• 联合研究</li>
          <li>• 文化推广</li>
        </ul>
      </div>
    </div>
  </div>
</section>

<section class="events-calendar" style="padding: 4rem 2rem; background: white;">
  <h2 style="text-align: center; margin-bottom: 3rem;">近期活动</h2>
  <div id="events-grid" style="max-width: 1200px; margin: 0 auto; display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 2rem;">
  </div>
</section>

<footer>
  <div class="footer-grid">
    <div class="footer-column">
      <h3>关于我们</h3>
      <ul>
        <li><a href="https://tcm.community/about">我们的故事</a></li>
        <li><a href="https://tcm.community/team">团队介绍</a></li>
        <li><a href="https://tcm.community/contact">联系我们</a></li>
      </ul>
    </div>
    <div class="footer-column">
      <h3>资源</h3>
      <ul>
        <li><a href="https://tcm.community/docs">开发文档</a></li>
        <li><a href="https://tcm.community/api">API</a></li>
        <li><a href="https://tcm.community/downloads">下载中心</a></li>
      </ul>
    </div>
    <div class="footer-column">
      <h3>社区</h3>
      <ul>
        <li><a href="https://tcm.community/forum">论坛</a></li>
        <li><a href="https://tcm.community/events">活动</a></li>
        <li><a href="https://tcm.community/contribute">如何贡献</a></li>
      </ul>
    </div>
  </div>
</footer>

<script>
// 动态生成气流动画
function createQiFlow() {
  const qiFlow = document.querySelector('.qi-flow');
  const numParticles = 20;
  
  for(let i = 0; i < numParticles; i++) {
    const particle = document.createElementNS("http://www.w3.org/2000/svg", "circle");
    particle.setAttribute("r", "3");
    particle.setAttribute("fill", "var(--accent)");
    particle.setAttribute("filter", "url(#glow)");
    
    const animateX = document.createElementNS("http://www.w3.org/2000/svg", "animate");
    animateX.setAttribute("attributeName", "cx");
    animateX.setAttribute("from", "0");
    animateX.setAttribute("to", "1000");
    animateX.setAttribute("dur", "5s");
    animateX.setAttribute("repeatCount", "indefinite");
    animateX.setAttribute("begin", `${i * 0.2}s`);
    
    const animateY = document.createElementNS("http://www.w3.org/2000/svg", "animate");
    animateY.setAttribute("attributeName", "cy");
    animateY.setAttribute("values", "500;400;500;600;500");
    animateY.setAttribute("dur", "5s");
    animateY.setAttribute("repeatCount", "indefinite");
    animateY.setAttribute("begin", `${i * 0.2}s`);
    
    particle.appendChild(animateX);
    particle.appendChild(animateY);
    qiFlow.appendChild(particle);
  }
}

document.addEventListener('DOMContentLoaded', createQiFlow);

// 页面滚动效果
window.addEventListener('scroll', () => {
  const nav = document.querySelector('nav');
  if (window.scrollY > 50) {
    nav.style.background = 'rgba(255,255,255,0.95)';
  } else {
    nav.style.background = 'rgba(255,255,255,0.8)';
  }
});

// 异步加载社区动态
async function loadCommunityUpdates() {
  try {
    const response = await fetch('/api/ai_completion', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json'
      },
      body: JSON.stringify({
        prompt: `生成3条最新的社区动态更新。
        
        <typescript-interface>
        interface Update {
          title: string;
          description: string;
          date: string;
        }
        interface Response {
          updates: Update[];
        }
        </typescript-interface>
        
        <example>
        {
          "updates": [
            {
              "title": "新游戏发布：《气血养成记》",
              "description": "通过游戏化方式学习中医养生知识",
              "date": "2024-03-15"
            }
          ]
        }
        </example>`,
        data: "中医复兴社区"
      })
    });
    
    const data = await response.json();
    updateCommunitySection(data.updates);
  } catch (error) {
    console.error('Error loading updates:', error);
  }
}

function updateCommunitySection(updates) {
  const section = document.createElement('section');
  section.className = 'community-updates';
  section.innerHTML = `
    <h2>社区动态</h2>
    ${updates.map(update => `
      <div class="update-card">
        <h4>${update.title}</h4>
        <p>${update.description}</p>
        <small>${update.date}</small>
      </div>
    `).join('')}
  `;
  
  document.querySelector('.features').after(section);
}

loadCommunityUpdates();

// 数字增长动画
function animateNumbers() {
  const stats = document.querySelectorAll('.stat-number');
  stats.forEach(stat => {
    const target = parseInt(stat.innerText);
    let current = 0;
    const increment = target / 100;
    const duration = 2000; // 2 seconds
    const interval = duration / 100;
    
    const counter = setInterval(() => {
      current += increment;
      if (current >= target) {
        stat.innerText = target.toString() + '+';
        clearInterval(counter);
      } else {
        stat.innerText = Math.floor(current).toString() + '+';
      }
    }, interval);
  });
}

// Intersection Observer for stats animation
const observer = new IntersectionObserver((entries) => {
  entries.forEach(entry => {
    if (entry.isIntersecting) {
      animateNumbers();
      observer.unobserve(entry.target);
    }
  });
});

document.addEventListener('DOMContentLoaded', () => {
  const statsSection = document.querySelector('.stats-section');
  if (statsSection) {
    observer.observe(statsSection);
  }
  
  const partnerSection = document.querySelector('.partners-section');
  if (partnerSection) {
    observer.observe(partnerSection);
    animatePartnerLogos();
  }
  
  loadUpcomingEvents();
  
  const cards = document.querySelectorAll('.collab-card');
  const observer2 = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        entry.target.style.transform = 'translateY(0)';
        entry.target.style.opacity = '1';
      }
    });
  }, {
    threshold: 0.1
  });
  
  cards.forEach(card => {
    card.style.transform = 'translateY(20px)';
    card.style.opacity = '0';
    card.style.transition = 'all 0.5s ease';
    observer2.observe(card);
  });
});

function animatePartnerLogos() {
  const logos = document.querySelectorAll('.partner-logo');
  logos.forEach((logo, index) => {
    logo.style.opacity = '0';
    logo.style.transform = 'translateY(20px)';
    
    setTimeout(() => {
      logo.style.transition = 'all 0.5s ease';
      logo.style.opacity = '1';
      logo.style.transform = 'translateY(0)';
    }, index * 200);
  });
}

document.addEventListener('DOMContentLoaded', () => {
  // Keep existing initialization code
  
  initCategoryCards();
});

function initCategoryCards() {
  const cards = document.querySelectorAll('.category-card');
  const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        entry.target.style.transform = 'translateY(0)';
        entry.target.style.opacity = '1';
      }
    });
  }, {
    threshold: 0.1
  });

  cards.forEach(card => {
    card.style.transform = 'translateY(20px)';
    card.style.opacity = '0';
    card.style.transition = 'all 0.5s ease';
    observer.observe(card);
  });
}

function initPartnerCategories() {
  const categories = document.querySelectorAll('.partner-category');
  const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        entry.target.classList.add('visible');
      }
    });
  }, {
    threshold: 0.1
  });

  categories.forEach(category => {
    observer.observe(category);
  });
}

document.addEventListener('DOMContentLoaded', () => {
  initPartnerCategories();
});

function initResearchCards() {
  const cards = document.querySelectorAll('.research-card');
  const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        entry.target.style.transform = 'translateY(0)';
        entry.target.style.opacity = '1';
        // Animate progress bars
        const progressBar = entry.target.querySelector('.progress-bar > div');
        if (progressBar) {
          progressBar.style.width = progressBar.getAttribute('style').match(/width:\s*(\d+)%/)[1] + '%';
        }
      }
    });
  }, {
    threshold: 0.1
  });

  cards.forEach(card => {
    card.style.transform = 'translateY(20px)';
    card.style.opacity = '0';
    card.style.transition = 'all 0.5s ease';
    observer.observe(card);
  });
}

document.addEventListener('DOMContentLoaded', () => {
  initResearchCards();
  
  // Add hover effects for practice cards
  const practiceCards = document.querySelectorAll('.practice-card');
  practiceCards.forEach(card => {
    card.addEventListener('mouseover', () => {
      card.style.transform = 'translateY(-5px)';
      card.style.transition = 'all 0.3s ease';
    });
    
    card.addEventListener('mouseout', () => {
      card.style.transform = 'translateY(0)';
    });
  });
});

function createYinYangDemo() {
  const demo = document.getElementById('yinyang-demo');
  const svg = document.createElementNS("http://www.w3.org/2000/svg", "svg");
  svg.setAttribute("viewBox", "0 0 400 400");
  svg.style.width = "100%";
  svg.style.height = "100%";
  
  // Create yin-yang symbol
  const yinyang = document.createElementNS("http://www.w3.org/2000/svg", "g");
  yinyang.innerHTML = `
    <circle cx="200" cy="200" r="100" fill="white" stroke="black" stroke-width="2"/>
    <path d="M200,100 a100,100 0 0,1 0,200 a50,50 0 0,1 0,-100 a50,50 0 0,0 0,-100" fill="black"/>
    <circle cx="200" cy="150" r="10" fill="black"/>
    <circle cx="200" cy="250" r="10" fill="white"/>
  `;
  
  // Add rotation animation
  yinyang.style.transformOrigin = "200px 200px";
  yinyang.style.animation = "rotate 10s linear infinite";
  
  svg.appendChild(yinyang);
  demo.appendChild(svg);
  
  // Add interaction
  svg.addEventListener('click', () => {
    yinyang.style.animationPlayState = yinyang.style.animationPlayState === 'paused' ? 'running' : 'paused';
  });
}

function createQiXueDemo() {
  const demo = document.getElementById('qixue-demo');
  const svg = document.createElementNS("http://www.w3.org/2000/svg", "svg");
  svg.setAttribute("viewBox", "0 0 400 400");
  svg.style.width = "100%";
  svg.style.height = "100%";
  
  // Create qi and blood flow paths
  const qiPath = document.createElementNS("http://www.w3.org/2000/svg", "path");
  qiPath.setAttribute("d", "M50,200 C100,100 300,300 350,200");
  qiPath.setAttribute("fill", "none");
  qiPath.setAttribute("stroke", "red");
  qiPath.setAttribute("stroke-width", "3");
  qiPath.setAttribute("stroke-dasharray", "10,5");
  
  const bloodPath = document.createElementNS("http://www.w3.org/2000/svg", "path");
  bloodPath.setAttribute("d", "M50,220 C100,320 300,120 350,220");
  bloodPath.setAttribute("fill", "none");
  bloodPath.setAttribute("stroke", "darkred");
  bloodPath.setAttribute("stroke-width", "4");
  
  // Add flow animation
  const qiAnimation = document.createElementNS("http://www.w3.org/2000/svg", "animate");
  qiAnimation.setAttribute("attributeName", "stroke-dashoffset");
  qiAnimation.setAttribute("from", "0");
  qiAnimation.setAttribute("to", "100");
  qiAnimation.setAttribute("dur", "3s");
  qiAnimation.setAttribute("repeatCount", "indefinite");
  
  qiPath.appendChild(qiAnimation);
  svg.appendChild(qiPath);
  svg.appendChild(bloodPath);
  demo.appendChild(svg);
}

document.addEventListener('DOMContentLoaded', () => {
  createYinYangDemo();
  createQiXueDemo();
  createWuxingDemo(); // Keep existing wuxing demo
});

function createWuxingDemo() {
  const demo = document.getElementById('wuxing-demo');
  const svg = document.createElementNS("http://www.w3.org/2000/svg", "svg");
  svg.setAttribute("viewBox", "0 0 400 400");
  svg.style.width = "100%";
  svg.style.height = "100%";
  
  const elements = [
    {name: "木", color: "#4CAF50", x: 200, y: 50},
    {name: "火", color: "#F44336", x: 350, y: 150},
    {name: "土", color: "#795548", x: 200, y: 200},
    {name: "金", color: "#FFD700", x: 50, y: 150},
    {name: "水", color: "#2196F3", x: 200, y: 350}
  ];
  
  // Add connection lines with animations
  elements.forEach((el, i) => {
    const next = elements[(i + 1) % elements.length];
    const line = document.createElementNS("http://www.w3.org/2000/svg", "line");
    line.setAttribute("x1", el.x);
    line.setAttribute("y1", el.y);
    line.setAttribute("x2", next.x);
    line.setAttribute("y2", next.y);
    line.setAttribute("stroke", "rgba(0,0,0,0.2)");
    line.setAttribute("stroke-width", "2");
    line.setAttribute("stroke-dasharray", "5,5");
    
    const animation = document.createElementNS("http://www.w3.org/2000/svg", "animate");
    animation.setAttribute("attributeName", "stroke-dashoffset");
    animation.setAttribute("from", "0");
    animation.setAttribute("to", "100");
    animation.setAttribute("dur", "2s");
    animation.setAttribute("repeatCount", "indefinite");
    
    line.appendChild(animation);
    svg.appendChild(line);
  });
  
  // Add element circles with enhanced interactions
  elements.forEach(el => {
    const g = document.createElementNS("http://www.w3.org/2000/svg", "g");
    
    const circle = document.createElementNS("http://www.w3.org/2000/svg", "circle");
    circle.setAttribute("cx", el.x);
    circle.setAttribute("cy", el.y);
    circle.setAttribute("r", "30");
    circle.setAttribute("fill", el.color);
    
    const text = document.createElementNS("http://www.w3.org/2000/svg", "text");
    text.setAttribute("x", el.x);
    text.setAttribute("y", el.y + 8);
    text.setAttribute("text-anchor", "middle");
    text.setAttribute("fill", "white");
    text.setAttribute("font-size", "24");
    text.textContent = el.name;
    
    g.appendChild(circle);
    g.appendChild(text);
    
    // Add hover and click interactions
    g.addEventListener('mouseover', () => {
      circle.setAttribute("r", "35");
      circle.style.transition = "all 0.3s ease";
      circle.style.filter = "brightness(1.2)";
    });
    
    g.addEventListener('mouseout', () => {
      circle.setAttribute("r", "30");
      circle.style.filter = "none";
    });
    
    g.addEventListener('click', () => {
      highlightRelationships(el.name, elements, svg);
    });
    
    svg.appendChild(g);
  });
  
  demo.appendChild(svg);
}

function highlightRelationships(element, elements, svg) {
  // Reset all elements
  svg.querySelectorAll('circle').forEach(circle => {
    circle.style.filter = "none";
    circle.style.transform = "scale(1)";
  });
  
  // Highlight selected element and its relationships
  const relationships = {
    "木": {generates: "火", controls: "土"},
    "火": {generates: "土", controls: "金"},
    "土": {generates: "金", controls: "水"},
    "金": {generates: "水", controls: "木"},
    "水": {generates: "木", controls: "火"}
  };
  
  const selected = relationships[element];
  if (selected) {
    svg.querySelectorAll('circle').forEach(circle => {
      const text = circle.nextSibling.textContent;
      if (text === element) {
        circle.style.transform = "scale(1.2)";
        circle.style.filter = "brightness(1.2)";
      } else if (text === selected.generates) {
        circle.style.filter = "brightness(1.1) sepia(0.3)";
      } else if (text === selected.controls) {
        circle.style.filter = "brightness(0.9) hue-rotate(15deg)";
      }
    });
  }
}

function initSideMenu() {
  const menuToggle = document.querySelector('.menu-toggle');
  const sideMenu = document.querySelector('.side-menu');
  const body = document.body;

  menuToggle.addEventListener('click', () => {
    menuToggle.classList.toggle('open');
    sideMenu.classList.toggle('open');
  });

  // Close menu when clicking outside
  document.addEventListener('click', (e) => {
    if (!sideMenu.contains(e.target) && 
        !menuToggle.contains(e.target) && 
        sideMenu.classList.contains('open')) {
      sideMenu.classList.remove('open');
      menuToggle.classList.remove('open');
    }
  });

  // Close menu when pressing escape
  document.addEventListener('keydown', (e) => {
    if (e.key === 'Escape' && sideMenu.classList.contains('open')) {
      sideMenu.classList.remove('open');
      menuToggle.classList.remove('open');
    }
  });
}

document.addEventListener('DOMContentLoaded', () => {
  initSideMenu();
});

async function loadUpcomingEvents() {
  try {
    const response = await fetch('/api/ai_completion', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json'
      },
      body: JSON.stringify({
        prompt: `生成3个即将举行的社区活动。

        <typescript-interface>
        interface Event {
          title: string;
          date: string;
          location: string;
          description: string;
          type: "online" | "offline";
        }
        interface Response {
          events: Event[];
        }
        </typescript-interface>

        <example>
        {
          "events": [
            {
              "title": "中医数字化创新论坛",
              "date": "2024-04-01",
              "location": "线上直播",
              "description": "探讨中医与现代技术的融合发展",
              "type": "online"
            }
          ]
        }
        </example>`,
        data: "upcoming community events"
      })
    });

    const data = await response.json();
    updateEventsCalendar(data.events);
  } catch (error) {
    console.error('Error loading events:', error);
  }
}

function updateEventsCalendar(events) {
  const eventsGrid = document.getElementById('events-grid');
  events.forEach(event => {
    const eventCard = document.createElement('div');
    eventCard.className = 'event-card';
    eventCard.style.cssText = `
      background: var(--bg);
      padding: 2rem;
      border-radius: 12px;
      box-shadow: 0 4px 15px rgba(0,0,0,0.1);
      transition: transform 0.3s ease;
      cursor: pointer;
    `;
    
    eventCard.innerHTML = `
      <h3 style="color: var(--primary); margin-bottom: 1rem;">${event.title}</h3>
      <p style="margin-bottom: 0.5rem;">${event.date}</p>
      <p style="margin-bottom: 0.5rem;">${event.location}</p>
      <p style="margin-bottom: 1rem;">${event.description}</p>
      <span class="event-type" style="
        display: inline-block;
        padding: 0.25rem 1rem;
        border-radius: 20px;
        background: ${event.type === 'online' ? 'var(--secondary)' : 'var(--accent)'};
        color: white;
        font-size: 0.9rem;
      ">${event.type === 'online' ? '线上活动' : '线下活动'}</span>
    `;
    
    eventCard.addEventListener('mouseover', () => {
      eventCard.style.transform = 'translateY(-5px)';
    });
    
    eventCard.addEventListener('mouseout', () => {
      eventCard.style.transform = 'translateY(0)';
    });
    
    eventsGrid.appendChild(eventCard);
  });
}

document.addEventListener('DOMContentLoaded', () => {
  loadUpcomingEvents();
});
</script>
</body></html>
